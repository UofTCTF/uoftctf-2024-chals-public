char bt[] = {118, 111, 105, 100, 32, 66, 40, 41, 10, 123, 10, 32, 32, 32, 32, 99, 104, 97, 114, 32, 98, 101, 102, 111, 114, 101, 91, 93, 32, 61, 32, 123, 57, 57, 44, 32, 49, 48, 52, 44, 32, 57, 55, 44, 32, 49, 49, 52, 44, 32, 51, 50, 44, 32, 57, 56, 44, 32, 49, 49, 54, 44, 32, 57, 49, 44, 32, 57, 51, 44, 32, 51, 50, 44, 32, 54, 49, 44, 32, 51, 50, 44, 32, 49, 50, 51, 44, 32, 48, 125, 59, 10, 32, 32, 32, 32, 99, 104, 97, 114, 32, 97, 102, 116, 101, 114, 91, 93, 32, 61, 32, 123, 49, 50, 53, 44, 32, 53, 57, 44, 32, 49, 48, 44, 32, 57, 57, 44, 32, 49, 48, 52, 44, 32, 57, 55, 44, 32, 49, 49, 52, 44, 32, 51, 50, 44, 32, 52, 50, 44, 32, 49, 49, 50, 44, 32, 49, 49, 52, 44, 32, 49, 49, 49, 44, 32, 49, 48, 51, 44, 32, 53, 57, 44, 32, 49, 48, 44, 32, 49, 49, 56, 44, 32, 49, 49, 49, 44, 32, 49, 48, 53, 44, 32, 49, 48, 48, 44, 32, 51, 50, 44, 32, 54, 54, 44, 32, 52, 48, 44, 32, 52, 49, 44, 32, 53, 57, 44, 32, 49, 48, 44, 32, 49, 49, 56, 44, 32, 49, 49, 49, 44, 32, 49, 48, 53, 44, 32, 49, 48, 48, 44, 32, 51, 50, 44, 32, 56, 52, 44, 32, 52, 48, 44, 32, 49, 48, 53, 44, 32, 49, 49, 48, 44, 32, 49, 49, 54, 44, 32, 51, 50, 44, 32, 57, 55, 44, 32, 49, 49, 52, 44, 32, 49, 48, 51, 44, 32, 57, 57, 44, 32, 52, 52, 44, 32, 51, 50, 44, 32, 57, 57, 44, 32, 49, 48, 52, 44, 32, 57, 55, 44, 32, 49, 49, 52, 44, 32, 51, 50, 44, 32, 52, 50, 44, 32, 57, 55, 44, 32, 49, 49, 52, 44, 32, 49, 48, 51, 44, 32, 49, 49, 56, 44, 32, 57, 49, 44, 32, 57, 51, 44, 32, 52, 49, 44, 32, 53, 57, 44, 32, 49, 48, 44, 32, 49, 48, 53, 44, 32, 49, 49, 48, 44, 32, 49, 49, 54, 44, 32, 51, 50, 44, 32, 49, 48, 57, 44, 32, 57, 55, 44, 32, 49, 48, 53, 44, 32, 49, 49, 48, 44, 32, 52, 48, 44, 32, 49, 48, 53, 44, 32, 49, 49, 48, 44, 32, 49, 49, 54, 44, 32, 51, 50, 44, 32, 57, 55, 44, 32, 49, 49, 52, 44, 32, 49, 48, 51, 44, 32, 57, 57, 44, 32, 52, 52, 44, 32, 51, 50, 44, 32, 57, 57, 44, 32, 49, 48, 52, 44, 32, 57, 55, 44, 32, 49, 49, 52, 44, 32, 51, 50, 44, 32, 52, 50, 44, 32, 57, 55, 44, 32, 49, 49, 52, 44, 32, 49, 48, 51, 44, 32, 49, 49, 56, 44, 32, 57, 49, 44, 32, 57, 51, 44, 32, 52, 49, 44, 32, 49, 48, 44, 32, 49, 50, 51, 44, 32, 49, 48, 44, 32, 51, 50, 44, 32, 51, 50, 44, 32, 51, 50, 44, 32, 51, 50, 44, 32, 54, 54, 44, 32, 52, 48, 44, 32, 52, 49, 44, 32, 53, 57, 44, 32, 49, 48, 44, 32, 51, 50, 44, 32, 51, 50, 44, 32, 51, 50, 44, 32, 51, 50, 44, 32, 56, 52, 44, 32, 52, 48, 44, 32, 57, 55, 44, 32, 49, 49, 52, 44, 32, 49, 48, 51, 44, 32, 57, 57, 44, 32, 52, 52, 44, 32, 51, 50, 44, 32, 57, 55, 44, 32, 49, 49, 52, 44, 32, 49, 48, 51, 44, 32, 49, 49, 56, 44, 32, 52, 49, 44, 32, 53, 57, 44, 32, 49, 48, 44, 32, 49, 50, 53, 44, 32, 49, 48, 44, 32, 48, 125, 59, 10, 32, 32, 32, 32, 112, 114, 111, 103, 32, 61, 32, 109, 97, 108, 108, 111, 99, 40, 115, 105, 122, 101, 111, 102, 40, 98, 101, 102, 111, 114, 101, 41, 43, 115, 105, 122, 101, 111, 102, 40, 97, 102, 116, 101, 114, 41, 43, 56, 42, 115, 105, 122, 101, 111, 102, 40, 98, 116, 41, 43, 115, 105, 122, 101, 111, 102, 40, 98, 116, 41, 41, 59, 10, 32, 32, 32, 32, 112, 114, 111, 103, 91, 48, 93, 32, 61, 32, 48, 59, 10, 32, 32, 32, 32, 115, 116, 114, 99, 97, 116, 40, 112, 114, 111, 103, 44, 32, 98, 101, 102, 111, 114, 101, 41, 59, 10, 32, 32, 32, 32, 99, 104, 97, 114, 32, 116, 109, 112, 91, 56, 93, 59, 10, 32, 32, 32, 32, 102, 111, 114, 32, 40, 105, 110, 116, 32, 105, 32, 61, 32, 48, 59, 32, 105, 32, 60, 32, 115, 105, 122, 101, 111, 102, 40, 98, 116, 41, 59, 32, 105, 43, 43, 41, 32, 123, 10, 32, 32, 32, 32, 32, 32, 32, 32, 105, 102, 32, 40, 105, 32, 61, 61, 32, 48, 41, 32, 123, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 115, 110, 112, 114, 105, 110, 116, 102, 40, 116, 109, 112, 44, 32, 115, 105, 122, 101, 111, 102, 40, 116, 109, 112, 41, 44, 32, 34, 37, 100, 34, 44, 32, 98, 116, 91, 105, 93, 41, 59, 10, 32, 32, 32, 32, 32, 32, 32, 32, 125, 32, 101, 108, 115, 101, 32, 123, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 115, 110, 112, 114, 105, 110, 116, 102, 40, 116, 109, 112, 44, 32, 115, 105, 122, 101, 111, 102, 40, 116, 109, 112, 41, 44, 32, 34, 44, 32, 37, 100, 34, 44, 32, 98, 116, 91, 105, 93, 41, 59, 10, 32, 32, 32, 32, 32, 32, 32, 32, 125, 10, 32, 32, 32, 32, 32, 32, 32, 32, 115, 116, 114, 99, 97, 116, 40, 112, 114, 111, 103, 44, 32, 116, 109, 112, 41, 59, 10, 32, 32, 32, 32, 125, 10, 32, 32, 32, 32, 115, 116, 114, 99, 97, 116, 40, 112, 114, 111, 103, 44, 32, 97, 102, 116, 101, 114, 41, 59, 10, 32, 32, 32, 32, 115, 116, 114, 99, 97, 116, 40, 112, 114, 111, 103, 44, 32, 98, 116, 41, 59, 10, 125, 10, 47, 47, 32, 102, 114, 111, 109, 32, 115, 116, 97, 99, 107, 111, 118, 101, 114, 102, 108, 111, 119, 46, 99, 111, 109, 47, 113, 117, 101, 115, 116, 105, 111, 110, 115, 47, 50, 49, 48, 48, 49, 54, 53, 57, 47, 99, 114, 99, 51, 50, 45, 97, 108, 103, 111, 114, 105, 116, 104, 109, 45, 105, 109, 112, 108, 101, 109, 101, 110, 116, 97, 116, 105, 111, 110, 45, 105, 110, 45, 99, 45, 119, 105, 116, 104, 111, 117, 116, 45, 97, 45, 108, 111, 111, 107, 45, 117, 112, 45, 116, 97, 98, 108, 101, 45, 97, 110, 100, 45, 119, 105, 116, 104, 45, 97, 45, 112, 117, 98, 108, 105, 99, 45, 108, 105, 10, 117, 110, 115, 105, 103, 110, 101, 100, 32, 105, 110, 116, 32, 99, 114, 99, 51, 50, 40, 117, 110, 115, 105, 103, 110, 101, 100, 32, 99, 104, 97, 114, 32, 42, 109, 115, 103, 44, 32, 117, 110, 115, 105, 103, 110, 101, 100, 32, 105, 110, 116, 32, 115, 105, 122, 101, 41, 32, 123, 10, 32, 32, 32, 105, 110, 116, 32, 105, 44, 32, 106, 59, 10, 32, 32, 32, 117, 110, 115, 105, 103, 110, 101, 100, 32, 105, 110, 116, 32, 98, 121, 116, 101, 44, 32, 99, 114, 99, 44, 32, 109, 97, 115, 107, 59, 10, 32, 32, 32, 99, 114, 99, 32, 61, 32, 48, 120, 70, 70, 70, 70, 70, 70, 70, 70, 59, 10, 32, 32, 32, 102, 111, 114, 32, 40, 105, 61, 48, 59, 32, 105, 60, 115, 105, 122, 101, 59, 32, 105, 43, 43, 41, 32, 123, 10, 32, 32, 32, 32, 32, 32, 98, 121, 116, 101, 32, 61, 32, 109, 115, 103, 91, 105, 93, 59, 10, 32, 32, 32, 32, 32, 32, 99, 114, 99, 32, 61, 32, 99, 114, 99, 32, 94, 32, 98, 121, 116, 101, 59, 10, 32, 32, 32, 32, 32, 32, 102, 111, 114, 32, 40, 106, 32, 61, 32, 55, 59, 32, 106, 32, 62, 61, 32, 48, 59, 32, 106, 45, 45, 41, 32, 123, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 109, 97, 115, 107, 32, 61, 32, 45, 40, 99, 114, 99, 32, 38, 32, 49, 41, 59, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 99, 114, 99, 32, 61, 32, 40, 99, 114, 99, 32, 62, 62, 32, 49, 41, 32, 94, 32, 40, 48, 120, 69, 68, 66, 56, 56, 51, 50, 48, 32, 38, 32, 109, 97, 115, 107, 41, 59, 10, 32, 32, 32, 32, 32, 32, 125, 10, 32, 32, 32, 125, 10, 32, 32, 32, 114, 101, 116, 117, 114, 110, 32, 126, 99, 114, 99, 59, 10, 125, 10, 118, 111, 105, 100, 32, 84, 40, 105, 110, 116, 32, 97, 114, 103, 99, 44, 32, 99, 104, 97, 114, 32, 42, 97, 114, 103, 118, 91, 93, 41, 10, 123, 10, 32, 32, 32, 32, 105, 110, 116, 32, 108, 101, 110, 32, 61, 32, 115, 116, 114, 108, 101, 110, 40, 112, 114, 111, 103, 41, 59, 10, 32, 32, 32, 32, 105, 110, 116, 32, 114, 101, 109, 32, 61, 32, 108, 101, 110, 59, 10, 32, 32, 32, 32, 99, 104, 97, 114, 32, 42, 111, 116, 112, 32, 61, 32, 109, 97, 108, 108, 111, 99, 40, 108, 101, 110, 41, 59, 10, 32, 32, 32, 32, 119, 104, 105, 108, 101, 32, 40, 114, 101, 109, 32, 62, 32, 48, 41, 32, 123, 10, 32, 32, 32, 32, 32, 32, 32, 32, 114, 101, 109, 32, 45, 61, 32, 114, 101, 97, 100, 40, 48, 44, 32, 111, 116, 112, 32, 43, 32, 40, 108, 101, 110, 32, 45, 32, 114, 101, 109, 41, 44, 32, 114, 101, 109, 41, 59, 10, 32, 32, 32, 32, 125, 10, 32, 32, 32, 32, 102, 111, 114, 32, 40, 105, 110, 116, 32, 105, 32, 61, 32, 48, 59, 32, 105, 32, 60, 32, 108, 101, 110, 59, 32, 105, 43, 43, 41, 32, 123, 10, 32, 32, 32, 32, 32, 32, 32, 32, 112, 114, 111, 103, 91, 105, 93, 32, 61, 32, 112, 114, 111, 103, 91, 105, 93, 32, 94, 32, 111, 116, 112, 91, 105, 93, 59, 10, 32, 32, 32, 32, 125, 10, 32, 32, 32, 32, 112, 114, 105, 110, 116, 102, 40, 34, 37, 117, 34, 44, 32, 99, 114, 99, 51, 50, 40, 112, 114, 111, 103, 44, 32, 108, 101, 110, 41, 41, 59, 10, 125, 10, 0};
char *prog;
void B();
void T(int argc, char *argv[]);
int main(int argc, char *argv[])
{
    B();
    T(argc, argv);
}
void B()
{
    char before[] = {99, 104, 97, 114, 32, 98, 116, 91, 93, 32, 61, 32, 123, 0};
    char after[] = {125, 59, 10, 99, 104, 97, 114, 32, 42, 112, 114, 111, 103, 59, 10, 118, 111, 105, 100, 32, 66, 40, 41, 59, 10, 118, 111, 105, 100, 32, 84, 40, 105, 110, 116, 32, 97, 114, 103, 99, 44, 32, 99, 104, 97, 114, 32, 42, 97, 114, 103, 118, 91, 93, 41, 59, 10, 105, 110, 116, 32, 109, 97, 105, 110, 40, 105, 110, 116, 32, 97, 114, 103, 99, 44, 32, 99, 104, 97, 114, 32, 42, 97, 114, 103, 118, 91, 93, 41, 10, 123, 10, 32, 32, 32, 32, 66, 40, 41, 59, 10, 32, 32, 32, 32, 84, 40, 97, 114, 103, 99, 44, 32, 97, 114, 103, 118, 41, 59, 10, 125, 10, 0};
    prog = malloc(sizeof(before)+sizeof(after)+8*sizeof(bt)+sizeof(bt));
    prog[0] = 0;
    strcat(prog, before);
    char tmp[8];
    for (int i = 0; i < sizeof(bt); i++) {
        if (i == 0) {
            snprintf(tmp, sizeof(tmp), "%d", bt[i]);
        } else {
            snprintf(tmp, sizeof(tmp), ", %d", bt[i]);
        }
        strcat(prog, tmp);
    }
    strcat(prog, after);
    strcat(prog, bt);
}
// from stackoverflow.com/questions/21001659/crc32-algorithm-implementation-in-c-without-a-look-up-table-and-with-a-public-li
unsigned int crc32(unsigned char *msg, unsigned int size) {
   int i, j;
   unsigned int byte, crc, mask;
   crc = 0xFFFFFFFF;
   for (i=0; i<size; i++) {
      byte = msg[i];
      crc = crc ^ byte;
      for (j = 7; j >= 0; j--) {
         mask = -(crc & 1);
         crc = (crc >> 1) ^ (0xEDB88320 & mask);
      }
   }
   return ~crc;
}
void T(int argc, char *argv[])
{
    int len = strlen(prog);
    int rem = len;
    char *otp = malloc(len);
    while (rem > 0) {
        rem -= read(0, otp + (len - rem), rem);
    }
    for (int i = 0; i < len; i++) {
        prog[i] = prog[i] ^ otp[i];
    }
    printf("%u", crc32(prog, len));
}

